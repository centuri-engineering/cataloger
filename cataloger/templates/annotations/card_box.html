{% extends "layout.html" %}
{% block content %}

<div class="p-4 mb-3 bg-light rounded-3">
  <div class="container-fluid py-6">
    <h3 class="display-4 fw-bold">Card edition form</h3>
    <p class="col-md-5 fs-4">
      Use the various menus to define you experiment.
      If you do not
      find a suitable entry, hit the <i class="fa fa-plus"></i> icon
      to search for a new term (opens a new tab or window in your browser).
    </p>
    <p class="col-md-5 fs-4">
      Once you have added a term, <b>save your card</b> by clicking <i class="fa fa-save"></i>, then
      reload the page with <i class="fa fa-refresh"></i>.
    </p>
    <p class="col-md-5 fs-4">
      You can put <b>#hashtags</b> in the <i class="fa fa-comment"></i>  section.
    </p>
  </div>
</div>

<form action=""
      class="form m-4 p-1"
      method="post"
      name="create_card">
  {{ form.csrf_token }}

  <div class="form-row" title="Something descriptive and specific">
    <div class="col-2">
      <label class="control-label mb-0">
        <b> Title </b>
      </label>
    </div>
    <div class="col-5">
      {{ form.title() }}
    </div>
  </div>
  <div class="form-row" title="hashtags will be imported as tags">
    <!-- Comment -->
    <div class="col-2">
      <label class="control-label mb-0">
        <i class="fa fa-comment"></i> <b>Description</b>
      </label>
    </div>
  </div>
  <div class="form-row" title="hashtags will be imported as tags">
    <div class="col-6">
      {{ form.comment(cols="80", rows="6") }}
    </div>
  </div>
  <div class="form-row">
    <hr/>
  </div>
  <div class="form-row" title="The project for this experiment">
    <!-- Project -->
    <div class="col-2">
      <label class="control-label mb-0">
        <i class="fa fa-project-diagram"></i> <b>Project</b>
      </label>
    </div>
    <div class="col-1">
      <a href={{ url_for('cards.new_project', cls="projects") }}>
          <i class="fa fa-plus"></i>
      </a>
    </div>
    <div class="col-5">
      {{ form.select_project() }}
    </div>
  </div>
  <div class="form-row" title="The binomial name of your bug">
    <!-- Organism -->
    <div class="col-2">
      <label class="control-label mb-0">
        <i class="fa fa-bug"></i> <b>Experimental Model</b>
      </label>
    </div>
    <div class="col-3">
      {{ form.select_organism.select() }}
    </div>
    <div class="col-1">
      {{ form.select_organism.add() }}
    </div>
    <div class="col-2">
      {% if form.select_organism.add.data %}
        {% if not form.select_organism.search.data %}
           {{ form.select_organism.search() }}
        {% elif new == "organisms"  %}
          {{ form.select_organism.select_new() }}
        {% endif %}
      {% endif %}
    </div>
    <div class="col-2">
      {% if form.select_organism.add.data %}
          {% if form.select_organism.search.data %}
      <button
        type="submit"
        class="btn btn-light"
        style="width: 4rem;"
        title="add term">
        <i class="fa fa-check"></i></button>
           {% else  %}
      <button
        type="submit"
        class="btn btn-light"
        style="width: 4rem;"
        title="search">
        <i class="fa fa-search"></i></button>
           {% endif %}
      {% endif %}
    </div>
  </div>

 <!--  <div class="form-row" title="the organ, cell line or epithelium of interest"> -->
 <!--    <\!-- Sample -\-> -->
 <!--    <div class="col-2"> -->
 <!--      <label class="control-label mb-0"> -->
 <!--        <i class="fa fa-flask"></i> <b>Sample</b> -->
 <!--      </label> -->
 <!--    </div> -->
 <!--    <div class="col-5"> -->
 <!--      {{ form.select_sample() }} -->
 <!--    </div> -->
 <!--  </div> -->
 <!--  <div class="form-row" title="The observed phenomenon or mechanism"> -->
 <!--    <\!-- Process -\-> -->
 <!--    <div class="col-2"> -->
 <!--      <label class="control-label mb-0"> -->
 <!--        <i class="fa fa-cogs"></i> <b>Observed Process</b> -->
 <!--      </label> -->
 <!--    </div> -->
 <!--    <div class="col-5"> -->
 <!--      {{ form.select_process() }} -->
 <!--    </div> -->
 <!--  </div> -->
 <!--  <div class="form-row" title="The experimental method (e.g SHG, FRAP or wide field)"> -->
 <!--    <\!-- Method -\-> -->
 <!--    <div class="col-2"> -->
 <!--      <label class="control-label mb-0"> -->
 <!--        <i class="fa fa-tools"></i> <b>Method</b> -->
 <!--      </label> -->
 <!--    </div> -->
 <!--    <div class="col-5"> -->
 <!--      {{ form.select_method() }} -->
 <!--    </div> -->
 <!--  </div> -->
 <!--  <div class="form-row"> -->
 <!--    <hr/> -->
 <!--  </div> -->
 <!--  <div class="form-row"> -->
 <!--    <\!-- Gene mod -\-> -->
 <!--    <div class="col-2"> -->
 <!--      <label class="control-label mb-0" -->
 <!--             title="Gene and their modification"> -->
 <!--        <i class="fas fa-dna"></i><i class="fas fa-map-marker"></i> <b>Gene-Marker pairs</b> -->
 <!--      </label> -->
 <!--    </div> -->
 <!--  </div> -->
 <!--  <div class="form-row"> -->
 <!--    <div class="col-2"> -->
 <!--    </div> -->
 <!--    <div class="col-1"> -->
 <!--      <label class="control-label mb-0" -->
 <!--             title="Gene or protein"> -->
 <!--        <i class="fas fa-dna"></i> <b>Genes</b> -->
 <!--      </label> -->
 <!--    </div> -->
 <!--    </div> -->
 <!--    <div class="col-1"> -->
 <!--      <label -->
 <!--        class="control-label mb-0" -->
 <!--        title="Gene modifiers"> -->
 <!--        <i class="fas fa-map-marker"></i> <b>Markers</b> -->
 <!--      </label> -->
 <!--    </div> -->
 <!--  </div> -->

 <!-- {% for gene_mod_form in form.select_gene_mods.entries %} -->
 <!--  <div class="form-row"> -->
 <!--    <div class="col-2"> -->
 <!--    </div> -->
 <!--    <div class="col-2"> -->
 <!--        {{ gene_mod_form.select_gene() }} -->
 <!--    </div> -->
 <!--    <div class="col-2"> -->
 <!--        {{ gene_mod_form.select_marker() }} -->
 <!--    </div> -->
 <!--  </div> -->
 <!--  {% endfor %} -->

 <!--  <div class="form-row"> -->
 <!--    <div class="col-2"> -->
 <!--      <a title="add a gene modification entry"> -->
 <!--        {{ form.add_gene_mod() }} -->
 <!--      </a> -->
 <!--      <a title="remove last entry"> -->
 <!--        {{ form.remove_gene_mod() }} -->
 <!--      </a> -->
 <!--    </div> -->
 <!--  </div> -->
  <div class="form-row">
    <hr/>
  </div>
  <div class="form-row">
    <h4>{{ form.save() }}</h4>
  </div>
  <div class="form-row">
      <a href={{ url_for("user.cards") }}>
        <button
          type="button"
          class="btn btn-light"
          style="width: 8rem;"
          title="Go home">
          <i class="fa fa-home"></i></button>
      </a>
  </div>
</form>
{% endblock %}
